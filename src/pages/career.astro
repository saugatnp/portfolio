---
import { readFile } from "fs/promises";

const careerDataPath = new URL(
    "../../public/assets/jsondata/career.json",
    import.meta.url,
);
const careerDataBuffer = await readFile(careerDataPath);
const careerData: Array<CareerData> = JSON.parse(
    careerDataBuffer.toString(),
) as Array<CareerData>;

interface CareerData {
    companyName: string;
    position: string;
    startDate: string;
    endDate: string;
    skillsOrToolsUsed: string[];
    description: string;
}
---

<div class="row d-flex justify-content-center mt-4">
    <p class="text-center fs-3 w-auto primary-border circular-border-md primary-text">
        MY&nbsp;CAREER
    </p>
    <div class="row d-flex justify-content-center">
        <div class="col-sm-12 col-lg-10">
            <div class="row mt-4">
                <div class="timeline" id="menu">
                    {
                        careerData.map((data: CareerData, index: number) => {
                            let clss = "right";
                            if (index % 2 == 0) {
                                clss = "left";
                            }
                            return (
                                <>
                                    <div class={"containertime " + clss}>
                                        <div class="content">
                                            <div class="row">
                                                <div class="col-sm-12 fs-3">
                                                    {data.position}&nbsp;.&nbsp;
                                                    <i class="fs-5">
                                                        {data.companyName}
                                                    </i>
                                                </div>
                                                <div class="col-sm-12 light-text d-flex align-items-center">
                                                    <i>{data.startDate} -{" "}
                                                        {data.endDate}</i>
                                                </div>
                                            </div>
                                            <div class="row mt-4">
                                                <div
                                                    class="col-sm-12  light-text text-justify"
                                                    style="text-align: justify;"
                                                >
                                                    {data.description}
                                                </div>
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-sm-12">
                                                    <div class="row">
                                                        {data.skillsOrToolsUsed.map(
                                                            (skill: string) => (
                                                                <div class="skill-name fs-6 text-dark dart-text-bg-color w-auto mx-2 mb-2">
                                                                    {skill}
                                                                </div>
                                                            ),
                                                        )}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </>
                            );
                        })
                    }
                </div>
            </div>
        </div>
    </div>
    <!-- <div class="row d-flex justify-content-center">
        <div class="col-sm-8 offset-1">
            {
                careerData.map((data: CareerData) => {
                    return (
                        <>
                            <br />
                            <br />
                            <br />
                            <div class="row mt-4">
                                <div class="col-sm-2 fs-6 light-text d-flex align-items-center">
                                    {data.startDate} - {data.endDate}
                                </div>
                                <div class="col-sm-8 fs-3">
                                    {data.position}&nbsp;.&nbsp;
                                    <i class="fs-5">{data.companyName}</i>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div
                                    class="col-sm-8 offset-2  fs-6 light-text text-justify"
                                    style="text-align: justify;"
                                >
                                    {data.description}
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-sm-8 offset-2">
                                    <div class="row">
                                        {data.skillsOrToolsUsed.map(
                                            (skill: string) => (
                                                <div class="skill-name fs-6 text-dark dart-text-bg-color w-auto mx-2 mb-2">
                                                    {skill}
                                                </div>
                                            ),
                                        )}
                                    </div>
                                </div>
                            </div>
                        </>
                    );
                })
            }
        </div>
    </div> -->

    <!-- <div class="row">
        <div class="col-sm-1 offset-8">
            <p class="index-scroll text-center" style="margin-top:0">
                S C R O L L
            </p>
        </div>
    </div> -->
</div>
